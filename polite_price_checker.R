# required libraries ------------------------------------------------------
library(blastula)
library(tidyverse)
library(tibble)
library(openxlsx)
library(gdata)
library(lubridate)
library(rvest)
library(stringr)
library(dplyr)
library(purrr)
library(plyr)
library(polite)
library(xml2)
library(gt)




ua <-
  "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Safari/537.36"


ua_2 <-
  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.1.2 Safari/605.1.15"


ua_3 <-
  "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36"




polite_price_checker <- function(asin) {
  url_composer <- paste0("https://www.amazon.it/dp/", asin)
  url  <-
    bow(
      url_composer,
      user_agent = ua_2,
      force = TRUE,
      delay = 20,
      times = 15,
      verbose = TRUE
    )
  
  
  price_raw <-
    scrape(url) %>% html_elements(xpath = "//span[@class='a-offscreen']/text()") %>% html_text2()
  
  
  price_cleaning <- trimws(price_raw)
  
  price_cleaning <- price_cleaning[1]
  
  price_cleaning <- gsub('â‚¬', '', price_cleaning)
  
  price_cleaning <- gsub(",", ".", price_cleaning)
  
  price_cleaning <- as.numeric(price_cleaning)
  
  product_name <-
    scrape(url) %>% html_elements(xpath = "//*[@id='productTitle']/text()") %>% html_text2()
  
  product_name <- trimws(product_name)
  
  sku <- 0
  
  native_price <- 0
  
  discount_percentage <- 0
  
  date <- Sys.time()
  
  final <-
    cbind(asin,
          product_name,
          sku,
          price_cleaning,
          native_price,
          discount_percentage,
          date)
  
  final_df <<- as.data.frame(final)
  
  return(final_df)
  
  print("Thank you Jeff, Almighty God of the Interweb")
  
}


############################################################




full_asin_it <-
  c(
    'B006JYFNUI',
    'B00TDNGW3Y',
    'B008DREKCQ',
    'B008DREU30',
    'B00GAY1TYG',
    'B00GM9FVRU',
    'B006JNA2OG',
    'B0069ORHTS',
    'B006JN451C',
    'B00XMY1XVQ',
    'B00MHUG8LG',
    'B007X31N7Q',
    'B007YH05SO',
    'B00G3NJTWS',
    'B00G3NJSC4',
    'B00EFP7L3K',
    'B00FGRYLHA',
    'B00M0K1VYM',
    'B00FXBCNP6',
    'B00DZK6CJK',
    'B00FHQJ44U',
    'B00FHQJ0TE',
    'B00FR5XS8Y',
    'B002YY6M0C',
    'B013GDSCRK',
    'B00NTYWDNQ',
    'B0089LSRZW',
    'B004ASNGKE',
    'B00CEH0LTW',
    'B009E7CGTI',
    'B006UFWP3E',
    'B00VRGPXF8',
    'B015O6A6GC',
    'B00IZXY762',
    'B015O6AB4E',
    'B009KM58JC',
    'B0063RMBL0',
    'B00AE6HEK4',
    'B015O6AFUO',
    'B00SKVYAVG',
    'B015O6AFPE',
    'B015O6A6IA',
    'B00SKVYB6K',
    'B0158FP4I4',
    'B01411FWBK',
    'B015O6AAVI',
    'B015O6ABLW',
    'B015O6A68K',
    'B015O6ABKS',
    'B015O6AFUE',
    'B015O6AB3U',
    'B015O6A6GM',
    'B015O6A6MG',
    'B0162IJ6NU',
    'B005FBTG18',
    'B004ASNGLI',
    'B00VYLJ4H4',
    'B00KJ2GWY2',
    'B00G3NJRWK',
    'B00RP0J7AW',
    'B00NAVVTOW',
    'B0050IIALS',
    'B00SKVYB38',
    'B0067HDPO8',
    'B00DP3SM4K',
    'B015O6ABIA',
    'B00O4QVS66',
    'B01HU6D86O',
    'B005FBTFU0',
    'B0063RMB1K',
    'B00KJ2GXIC',
    'B009E7CGDO',
    'B00B2K8LH6',
    'B015O6AFMM',
    'B002YY6LZS',
    'B00N4K5PDK',
    'B002YY6LXA',
    'B00765DSJM',
    'B01JOLV9F0',
    'B01LZMBQRG',
    'B01M0Z17OK',
    'B01N75NYSJ',
    'B00GAP6M1K',
    'B00CTLDY4W',
    'B01N55NF5G',
    'B06WGV3DBP',
    'B06WP9PPT6',
    'B06XWKNJQJ',
    'B072MSQDQG',
    'B071JZG665',
    'B071WXJWH8',
    'B009E7CN6O',
    'B00G3DNXIE',
    'B00E3QGPQK',
    'B007YH05O8',
    'B0089LSRHK',
    'B0089LSRL6',
    'B06XPBXNCX',
    'B075RGG4Y5',
    'B075RFR2CV',
    'B075RFNP23',
    'B075RFR89L',
    'B076FWLL9C',
    'B00U7FFR0G',
    'B079FN8N4T',
    'B0154Z2W06',
    'B01BNTLKU0',
    'B079ZLWJNJ',
    'B079Z9GXQS',
    'B07FZ4PVRP',
    'B07JVLQ38M',
    'B07FYHM3QY',
    'B0158FIIGE',
    'B07P35CW1X',
    'B07S5L8VYG',
    'B07S73QCFC',
    'B07S5L9937',
    'B07V9GN42Q',
    'B00HLUUNOK',
    'B07W3VJQZD',
    'B082WSYYCX',
    'B082WSZXHB',
    'B07Y8DPHCL',
    'B07Y8DHN3F',
    'B07Y8GSGKD',
    'B00KMU7SYY',
    'B08BXFXMBH',
    'B09SGB55N4',
    'B09ZJ9QXZY',
    'B09ZF4CS7D',
    'B09ZF4P9LV',
    'B015NVW8HS',
    'B0154G9JQU',
    'B00NJ71UWI',
    'B004ASNGL8',
    'B0154G96J0',
    'B004ASNGFO',
    'B004ASNGNQ',
    'B00E4KNTSM',
    'B0987CNV93',
    'B0094DXP2O',
    'B075WVHGMB',
    'B079F2H58S',
    'B07CKMWSG6',
    'B00FM266R2',
    'B00KU2O2R0',
    'B0050IHX98',
    'B00E3QGS3U',
    'B00GAY1RQQ',
    'B013Y0U7SC',
    'B00NM8FSJ0',
    'B0158R6S3M',
    'B00NM8FSNG',
    'B0067HDP3E',
    'B0086W3P4C',
    'B01LXNKQOL',
    'B075R6RQB9',
    'B0050IHCT4',
    'B0069OEQA6',
    'B004ASNGMM',
    'B0050IH7PS',
    'B0050IH76W',
    'B006KOOYMU',
    'B0050IGZC4',
    'B0064LNOFM',
    'B006FX36GQ',
    'B004ASNGJ0',
    'B0063RM8H2',
    'B00FGRZ03O',
    'B009E7BWQQ',
    'B009E7BTA0',
    'B004ASNGIQ',
    'B00OQ3866M',
    'B0057FZEKE',
    'B0169W81UI',
    'B00OQ386C6',
    'B00OQ386EE',
    'B0158QX43A',
    'B01LZ1Y47Q',
    'B0050IHBR2',
    'B0081SYSOW',
    'B00OQ38BH6',
    'B008F8E4PG',
    'B00G98HUOQ',
    'B0050IH9LU',
    'B01EYQUM2G',
    'B01JOL22Y2',
    'B01LZA1T4H',
    'B01LXNKR4O',
    'B01LXNKQYD',
    'B00OQ386AS',
    'B06X1D31QX',
    'B072QRG7BZ',
    'B005PW7S0I',
    'B015WNPANQ',
    'B0736QWV24',
    'B0711KBY99',
    'B00GAY1NXS',
    'B008HRP9IG',
    'B076998CD8',
    'B071451JHC',
    'B0755CJFPL',
    'B07MVXGBXQ',
    'B07J3SF9XC',
    'B07MZJFVP5',
    'B00IHXRDPW',
    'B07JVDGSRR',
    'B07JVDXQC9',
    'B07NXSV38C',
    'B07P21NNPD',
    'B07P35D3MC',
    'B07PN685MZ',
    'B008DREZM6',
    'B07V8HZXXQ',
    'B07V7DRR7S',
    'B07V69QDFR',
    'B0848JZ6KP',
    'B00A6B4RW0',
    'B00IRAFHB2',
    'B00DUFC4BA',
    'B00856SPB2',
    'B00Y7YLYGE',
    'B00Y7YLYIM',
    'B00VJSOZE4',
    'B00T9QV4DS',
    'B008HRP6UW',
    'B009E7CBIY',
    'B00VJSOZJO',
    'B00DUFC5M8',
    'B00VJSOZ8A',
    'B01HOA2XEE',
    'B01LYO6HXV',
    'B008HRP6XO',
    'B06XVGK6QK',
    'B072Q1FDQ3',
    'B071LTX5ZM',
    'B0728PHH5F',
    'B072K6WZZB',
    'B0050IIK72',
    'B0050IILSA',
    'B005QZ4ET2',
    'B015O6AFJ0',
    'B015O6AG6M',
    'B00SKVYBAG',
    'B00NAVVTP6',
    'B0050IH1OA',
    'B00NAVVTNI',
    'B01M0KYE4E',
    'B007ISMJQU',
    'B009P1X0T8',
    'B079Z9GZK3',
    'B079ZLXZ9Z',
    'B079ZKKLCJ',
    'B079ZKKZ3B',
    'B079ZLVGKL',
    'B079ZLSTZM',
    'B07F39QPKK',
    'B07Y8FDSRJ',
    'B009E7CATE',
    'B00H9YL8E2',
    'B007USIKSO',
    'B00UH55XKK',
    'B015O6A65I',
    'B015O6J85C',
    'B009E7AKA0',
    'B01M1BX2RL',
    'B01M0149BP',
    'B0728PHKBL',
    'B007M906CE',
    'B075RGNCZQ',
    'B078LJX5GY',
    'B07P8VM7P7',
    'B00JZOO2UG',
    'B0056BY2Q6',
    'B005TVOC3G',
    'B00563GAPA',
    'B0056C02MI',
    'B00563PPGA',
    'B005658E1Q',
    'B0056BZZDA',
    'B0056BZZAI',
    'B00M975Z5W',
    'B008OFBLYC',
    'B008OFBLR4',
    'B078RL1X78',
    'B01LXFEQXU',
    'B01LZDKK2F',
    'B01M109MOV',
    'B01L969ZHW',
    'B01L969YMS',
    'B01M1Y6Y6K',
    'B01LZ1UUI6',
    'B01L969XYC',
    'B01L96A09E',
    'B01CNW2500',
    'B01LZ1YB12',
    'B01CNW257I',
    'B01CNW24R4',
    'B017X6MUVU',
    'B017LHJZVY',
    'B00M975Z7K',
    'B00NGKX45Y',
    'B00NGKX6I4',
    'B00KG1ZT1I',
    'B00FGRPS6I',
    'B00E4KJ8HI',
    'B008OFBMW8',
    'B008OFBMI2',
    'B008OFBM9Q',
    'B00791DPI2',
    'B005TVN99Y',
    'B07Y8GR1WS',
    'B07Y8GH4K8',
    'B07Y8FDGDQ',
    'B07Y8GQMP5',
    'B07Y8GCMLG',
    'B07Y8FZ6GJ',
    'B07Y8GQVND',
    'B07Y8G9L1M',
    'B00KKI8V58',
    'B00NOM9MK0',
    'B00H2FTS90',
    'B00H2FTN9U',
    'B01DU6GJLO',
    'B00F0HK0XA',
    'B00BTVSROU',
    'B00GAX0F1U',
    'B00GOWKD82',
    'B00A9269R2',
    'B00K6MR6JK',
    'B00BTVSK8I',
    'B004ASNGB8',
    'B004ASNGBI',
    'B004ASNGEA',
    'B00FZN1H4U',
    'B00FMUJMBG',
    'B00AKFUBLI',
    'B00BBUWQR8',
    'B00AZIV8HG',
    'B00G3NJVLC',
    'B00AKFUB9K',
    'B00AKFUC9E',
    'B00N1TYH88',
    'B00FZUMBCK',
    'B075BMSMRF',
    'B00KIDANX8',
    'B00KMU8XFC',
    'B00KIRP6LS',
    'B00KMU8XCU',
    'B0050IIHAM',
    'B0050IIE5A',
    'B0052WYN1S',
    'B0052WYO08',
    'B0063RMI6S',
    'B07VGH4Z81',
    'B07VC16GW8',
    'B07W4JVN8S',
    'B07WBZC85N',
    'B00LJF1UZY',
    'B00LJF1U22',
    'B00NAVVX6Q',
    'B015WNP748',
    'B00NAVVZ3M',
    'B00NAQ0VSM',
    'B00MW2WKDE',
    'B01BGRZXKM',
    'B012DHYAOO',
    'B015OEJTYY',
    'B00OQ38BNU',
    'B015WNP752',
    'B015WNP79I',
    'B00NAVW2DE',
    'B00J8LWXH0',
    'B00J9A8RNE',
    'B01BGRZXIY',
    'B0158R6S5K',
    'B00NQ4LDY4',
    'B01LY2TWKN',
    'B01M19HDRM',
    'B01LZLVGIB',
    'B00J911OZQ',
    'B015WNPB08',
    'B074TNT7Y7',
    'B074TMX9J3',
    'B074TNW3L4',
    'B074TNT7YD',
    'B074TMNTQK',
    'B074TMJN25',
    'B076G1RLQX',
    'B075ZRP3CS',
    'B075ZPXS6V',
    'B077GZ81KQ',
    'B07J3SF9X8',
    'B07W5FS4ZL',
    'B07W49FGYS',
    'B0059GLZUY',
    'B0059GM0GW',
    'B00ABL17A0',
    'B00FGRYBT8',
    'B009E3VNAK',
    'B00FGRYW7O',
    'B00GLSDCS2',
    'B005U1WNWC',
    'B00O3X8VZG',
    'B00TDNGVX0',
    'B015WNPAYK',
    'B01BGRZY10',
    'B011DHJIRE',
    'B0050IJ3V4',
    'B0050IJ8J6',
    'B01EYQUL2M',
    'B01EO697BI',
    'B01LZXN3WK',
    'B01LX03UPH',
    'B01LYMRVA3',
    'B01LZA1IHE',
    'B01M09BNCN',
    'B01LY802Z9',
    'B01M0KZ2PI',
    'B00FGRZ3PY',
    'B00NU25TGA',
    'B07CKY9SNZ',
    'B07CKRCMB7',
    'B01D401T6Q',
    'B07MZGRDJ4',
    'B07P35DTPJ',
    'B07NYRRF1Y',
    'B07PPC54RD',
    'B07QZFLKRS',
    'B07S61V42S',
    'B00MHFT4DK',
    'B09SDHHKJZ',
    'B004ASNGM2',
    'B0050IGWXG',
    'B008HR0UG2',
    'B008HR7LB4',
    'B009E7AKTQ',
    'B009K23650',
    'B01BV0NOOG',
    'B00YAF2X1K',
    'B00PLSNWU6',
    'B01BV0NNBK',
    'B00KMU8US2',
    'B00KMU8XAC',
    'B01BV0NOQ4',
    'B0158R6RLK',
    'B00YAF31EI',
    'B00UX6KK0G',
    'B08J8XH5BH',
    'B08J8XNFNC',
    'B08J8XCSH4',
    'B08J8XCSHB',
    'B08J8XN21F',
    'B08J8XPY5X',
    'B08HS77R9B',
    'B08HR1VGSR',
    'B08HR23S41',
    'B08J8Z15M1',
    'B08J8ZLLDT',
    'B08J8ZH957',
    'B08J8XMFQN',
    'B08J8XJHNM',
    'B08JVC7VB4',
    'B08JV8L49M',
    'B08JV9LX42',
    'B08JV8FFYH',
    'B08JVCHZF3',
    'B08JV9VVQT',
    'B08JV7QK54',
    'B08JV87TZW',
    'B08NKXBJX1',
    'B08NK1L69Z',
    'B08NK25BLP',
    'B08NPR8QNN',
    'B08NPMMFWQ',
    'B08NPF5HWD',
    'B08NP5M6D4',
    'B08NPR9BYM',
    'B08NPG5D5Y',
    'B0813TLPGY',
    'B07YX5QRCL',
    'B08HS4ZSMH',
    'B08HS61FJ5',
    'B08LVXG2V1',
    'B08V11MR92',
    'B08V1FYMK9',
    'B08X7BYVZQ',
    'B093C19CSD',
    'B093BYJXZW',
    'B08R7NM2SF',
    'B08X1WLF5W',
    'B08XBZV29G',
    'B08R7NSVL5',
    'B08RYGFL21',
    'B08RZ288L3',
    'B09CTZ6WKM',
    'B09CTZZGFY',
    'B09BJ7LNR6',
    'B09BHV4DWG',
    'B09CTY5P2L',
    'B0987B62CP',
    'B0987BTDT2',
    'B0987C6H2S',
    'B0987D9K2X',
    'B0987D6J4J',
    'B09CYM6KR3',
    'B09CYDKRZ6',
    'B09CTZF711',
    'B09CTZM9LJ',
    'B09CTZV4TM',
    'B08X6QMR36',
    'B08X6ZDL24',
    'B08JZ99BSG',
    'B0987C1JFD',
    'B0987BBB14',
    'B09KH2654V',
    'B09KV6G5KT',
    'B09N2JV9X3',
    'B09K7ZS81N',
    'B09GTTY863',
    'B08TZZ3PR8',
    'B08V14MDK1'
  )



full_sku <- c(
  '7729',
  '7797',
  '7409',
  '7752V',
  '7799V',
  '7798V',
  '7727J',
  '7744',
  '7730',
  '7776',
  '7800V',
  '12261',
  '12241X',
  '12311',
  '12321',
  '12331',
  '11164',
  '11165',
  '11166',
  '12301',
  '11168',
  '11169X',
  '11170',
  '1238F',
  '11307X',
  '11088Y',
  '12281',
  '1134X',
  '11108',
  '11094X',
  '1579z',
  '11225X',
  '11227X',
  '11142G',
  '11384',
  '11116',
  '11891',
  '11009X',
  '11316X',
  '11326',
  '11363A',
  '11469',
  '11236X',
  '11178Y',
  '11148',
  '11378',
  '11388Z',
  '11249X',
  '11315',
  '11318',
  '11382',
  '11463X',
  '11465X',
  '11250Y',
  '1306G',
  '1705Z',
  '11144X',
  '11224X',
  '11010X',
  '11140X',
  '11126',
  '10721',
  '11238G',
  '1625F',
  '11003',
  '11379',
  '11312X',
  '11313X',
  '11881',
  '1362F',
  '11239',
  '11053L',
  '10761G',
  '11383',
  '1237G',
  '11234X',
  '1859X',
  '10931G',
  '11422X',
  '11488',
  '11468',
  '11512',
  '11147',
  '11005X',
  '11420X',
  '11619Y',
  '11493X',
  '11508X',
  '11494X',
  '11370',
  '11507',
  '11114',
  '11072X',
  '11073X',
  '12251',
  '12291',
  '12271',
  '11417',
  '11504X',
  '11424X',
  '11624',
  '11630',
  '11623',
  '1759X',
  '11640',
  '11464X',
  '11213G',
  '11346F',
  '11347A',
  '31001A',
  '31002',
  '11539',
  '11567X',
  '11710',
  '11737',
  '11733',
  '11725',
  '11642',
  '11811X',
  '11726',
  '11523',
  '11520',
  '11728',
  '11657A',
  '11634',
  '11233G',
  '11747',
  '11824',
  '11849',
  '5295K',
  '5347',
  '4902E',
  '4904N',
  '4903F',
  '4910G',
  '4911E',
  '4928E',
  '4926N',
  '4012E',
  '4034',
  '4917',
  '4014',
  '4017G',
  '4020',
  '7786',
  '7815',
  '7317J',
  '7781',
  '7713',
  '7857',
  '7811',
  '7850',
  '7803N',
  '7273M',
  '7271M',
  '7852',
  '7449',
  '7590C',
  '7358',
  '7126C',
  '7207',
  '7373',
  '7195',
  '7292C',
  '7313',
  '7357',
  '7383',
  '7706C',
  '7675',
  '7789',
  '7764',
  '7343',
  '7831',
  '7013',
  '7827',
  '7828',
  '7833',
  '7846N',
  '7864',
  '7378M',
  '7146',
  '7783',
  '7359',
  '7780',
  '7334',
  '7809',
  '7808',
  '7263',
  '7256',
  '7259',
  '7832',
  '7261',
  '7304',
  '7323',
  '7829',
  '7861N',
  '7866',
  '5045',
  '7766',
  '7862',
  '7395',
  '7436',
  '7270',
  '7438',
  '7451',
  '7594',
  '7591',
  '7453',
  '7597',
  '7598',
  '37002',
  '7258',
  '7341M',
  '7911',
  '7910',
  '7915',
  '7916T',
  '5063',
  '5040',
  '5056',
  '5026L',
  '5157',
  '5124',
  '5097',
  '5421',
  '5024L',
  '5057X',
  '5100',
  '5055',
  '5154',
  '5167',
  '5166',
  '5412',
  '5169X',
  '5194K',
  '5422K',
  '5423K',
  '5245',
  '1352A',
  '1620F',
  '1235',
  '11372',
  '11470',
  '11062',
  '1233',
  '1236F',
  '11332',
  '11418',
  '11671',
  '12421',
  '11496',
  '11497',
  '11498',
  '11500',
  '11502',
  '11612',
  '11503',
  '11649',
  '5030',
  '5075X',
  '5029',
  '5076L',
  '5162',
  '5152',
  '5064',
  '5182',
  '5424',
  '5289',
  '5042',
  '5901',
  '5185',
  '5163F',
  '6996N',
  '6877N',
  '6851C',
  '6018C',
  '6015D',
  '6012D',
  '6007C',
  '6004E',
  '6001D',
  '16176A',
  '16020C',
  '16018C',
  '16480',
  '16402',
  '16287',
  '16286',
  '16285',
  '16284',
  '16283',
  '16282',
  '16281',
  '16280',
  '16247',
  '16245',
  '16242',
  '16241',
  '16234',
  '16233',
  '16175',
  '16143',
  '16142',
  '16116',
  '16090',
  '16089',
  '16037',
  '16036',
  '16022',
  '6998',
  '6894',
  '16630',
  '16631',
  '16633',
  '16628A',
  '16629A',
  '16652',
  '16653',
  '16678',
  '16091',
  '16145',
  '16051M',
  '16050M',
  '16183',
  '16060C',
  '16058C',
  '16057C',
  '16056I',
  '6113E',
  '6221I',
  '16061C',
  '1301D',
  '1396D',
  '1567',
  '5034',
  '5020',
  '5732',
  '5729',
  '5728',
  '5417',
  '5734',
  '5730',
  '5416',
  '5036',
  '5317',
  '5120U',
  '5123U',
  '5121U',
  '5122U',
  '5467Q',
  '5727',
  '5667',
  '5673',
  '5662',
  '5811',
  '5813',
  '5818',
  '5823',
  '8640',
  '8630',
  '8660',
  '8620',
  '8670',
  '8096',
  '8650',
  '8141',
  '8155',
  '8651',
  '8138',
  '8073T',
  '8142T',
  '8084',
  '8091',
  '8137',
  '8147',
  '8148',
  '8086',
  '8652',
  '8119T',
  '8165',
  '8102',
  '8072T',
  '8629',
  '8634',
  '8642E',
  '8631',
  '8632',
  '8078',
  '8074',
  '8190',
  '8180',
  '8628',
  '8175',
  '8661',
  '8662',
  '9258Z',
  '9257Z',
  '9238',
  '9136Z',
  '9234A',
  '9580Z',
  '9559Z',
  '9254Z',
  '9427',
  '9587',
  '9424',
  '9430',
  '9431T',
  '9329Z',
  '9256A',
  '9300',
  '9293',
  '9433',
  '9434',
  '9301',
  '9302A',
  '9303',
  '9304',
  '9004',
  '9285T',
  '9589',
  '9006',
  '9246',
  '9291A',
  '9013',
  '9014',
  '9245',
  '9012',
  '9694',
  '9009',
  '9583Z',
  '9030',
  '5401M',
  '5400M',
  '8428',
  '8004',
  '8505',
  '8561',
  '8064',
  '8095',
  '8093',
  '8098',
  '8140',
  '8094',
  '8166',
  '8066',
  '8392',
  '8621',
  '11749',
  '11768',
  '11769',
  '11770',
  '11772',
  '11806',
  '7494',
  '16728',
  '16729A',
  '16775',
  '16776',
  '16777',
  '16751B',
  '16715',
  '7485',
  '7493',
  '7487',
  '7481',
  '7499',
  '7492',
  '7489T',
  '7491',
  '11738',
  '7474',
  '7599',
  '7473',
  '7475',
  '7870',
  '7479',
  '7478',
  '7471',
  '9011',
  '9007',
  '9440',
  '9432',
  '11799',
  '9017',
  '9018',
  '11739',
  '11817',
  '11818',
  '7486',
  '7484',
  '7480',
  '7477',
  '7472',
  '7488',
  '11837',
  '11838',
  '11808',
  '11847',
  '11826',
  '4028',
  '4030',
  '4031',
  '4029',
  '4032',
  '7912',
  '7500',
  '16783',
  '16784',
  '16787',
  '9027',
  '9028',
  '8668',
  '4033',
  '4035',
  '16181',
  '16785',
  '5827',
  '7502',
  '16719A',
  '16778',
  '16779'
  )


scrape_raw <-
  purrr::map(full_asin_it, purrr::possibly(polite_price_checker, NA))

price_checker_df <- plyr::ldply(scrape_raw, data.frame)


###########################################################

write.csv(price_checker_df,
          file = paste0("polite_price/Amazon_price_", date, ".csv"))
